<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="index.css">
</head>
<script>
    function select(element){
        document.querySelectorAll('.selected').forEach(e => {e.classList.remove('selected')})
        element.querySelector('.activeIndicator').classList.add('selected')
    }
</script>

<body>
    <div class="page">
        <div class="sideBar">
            <a href="#download">
                <div class="item" onclick="select(this)">
                    <div class="activeIndicator selected">
                        <img class="icon" src="assets\download.svg">
                    </div>
                    <div class="label">Download</div>
                </div>
            </a>
            <a href="#home">
                <div class="item" onclick="select(this)">
                    <div class="activeIndicator">
                        <img class="icon" src="assets\download.svg">
                    </div>
                    <div class="label">Home</div>
                </div>
            </a>
            <a href="#services">
                <div class="item" onclick="select(this)">
                    <div class="activeIndicator">
                        <img class="icon" src="assets\download.svg">
                    </div>
                    <div class="label">Services</div>
                </div>
            </a>
            <a href="#clients">
                <div class="item" onclick="select(this)">
                    <div class="activeIndicator">
                        <img class="icon" src="assets\download.svg">
                    </div>
                    <div class="label">Clients</div>
                </div>
            </a>
            <a href="#contact">
                <div class="item" onclick="select(this)">
                    <div class="activeIndicator">
                        <img class="icon" src="assets\download.svg">
                    </div>
                    <div class="label">Contact</div>
                </div>
            </a>
        </div>
        <div class="content">
            <h2>Sidebar with Icons</h2>
            <p>This side navigation is of full height (100%) and always shown.</p>
            <p id="download">Download - Lorem ipsum dolor sit amet, illum definitiones no quo, maluisset concludaturque
                et eum,
                altera fabulas ut
                quo. Atqui causae gloriatur ius te, id agam omnis evertitur eum. Affert laboramus repudiandae nec et.
                Inciderint efficiantur his ad. Eum no molestiae voluptatibus.</p>
            <p>Lorem ipsum dolor sit amet, illum definitiones no quo, maluisset concludaturque et eum, altera fabulas ut
                quo. Atqui causae gloriatur ius te, id agam omnis evertitur eum. Affert laboramus repudiandae nec et.
                Inciderint efficiantur his ad. Eum no molestiae voluptatibus.</p>
            <p id="home">Home - Lorem ipsum dolor sit amet, illum definitiones no quo, maluisset concludaturque et eum,
                altera fabulas ut
                quo. Atqui causae gloriatur ius te, id agam omnis evertitur eum. Affert laboramus repudiandae nec et.
                Inciderint efficiantur his ad. Eum no molestiae voluptatibus.</p>
            <p>Lorem ipsum dolor sit amet, illum definitiones no quo, maluisset concludaturque et eum, altera fabulas ut
                quo. Atqui causae gloriatur ius te, id agam omnis evertitur eum. Affert laboramus repudiandae nec et.
                Inciderint efficiantur his ad. Eum no molestiae voluptatibus.</p>
            <p>This side navigation is of full height (100%) and always shown.</p>
            <p id="services"> Services - Lorem ipsum dolor sit amet, illum definitiones no quo, maluisset concludaturque
                et
                eum, altera fabulas ut
                quo. Atqui causae gloriatur ius te, id agam omnis evertitur eum. Affert laboramus repudiandae nec et.
                Inciderint efficiantur his ad. Eum no molestiae voluptatibus.</p>
            <p>Lorem ipsum dolor sit amet, illum definitiones no quo, maluisset concludaturque et eum, altera fabulas ut
                quo. Atqui causae gloriatur ius te, id agam omnis evertitur eum. Affert laboramus repudiandae nec et.
                Inciderint efficiantur his ad. Eum no molestiae voluptatibus.</p>
            <p>This side navigation is of full height (100%) and always shown.</p>
            <p id="clients">Clients - Lorem ipsum dolor sit amet, illum definitiones no quo, maluisset concludaturque et
                eum, altera fabulas ut
                quo. Atqui causae gloriatur ius te, id agam omnis evertitur eum. Affert laboramus repudiandae nec et.
                Inciderint efficiantur his ad. Eum no molestiae voluptatibus.</p>
            <p>Lorem ipsum dolor sit amet, illum definitiones no quo, maluisset concludaturque et eum, altera fabulas ut
                quo. Atqui causae gloriatur ius te, id agam omnis evertitur eum. Affert laboramus repudiandae nec et.
                Inciderint efficiantur his ad. Eum no molestiae voluptatibus.</p>
            <p>This side navigation is of full height (100%) and always shown.</p>
            <p id="contact">Contact - Lorem ipsum dolor sit amet, illum definitiones no quo, maluisset concludaturque et
                eum, altera fabulas ut
                quo. Atqui causae gloriatur ius te, id agam omnis evertitur eum. Affert laboramus repudiandae nec et.
                Inciderint efficiantur his ad. Eum no molestiae voluptatibus.</p>
            <p>Lorem ipsum dolor sit amet, illum definitiones no quo, maluisset concludaturque et eum, altera fabulas ut
                quo. Atqui causae gloriatur ius te, id agam omnis evertitur eum. Affert laboramus repudiandae nec et.
                Inciderint efficiantur his ad. Eum no molestiae voluptatibus.</p>
            <p>This side navigation is of full height (100%) and always shown.</p>
            <p>Lorem ipsum dolor sit amet, illum definitiones no quo, maluisset concludaturque et eum, altera fabulas ut
                quo. Atqui causae gloriatur ius te, id agam omnis evertitur eum. Affert laboramus repudiandae nec et.
                Inciderint efficiantur his ad. Eum no molestiae voluptatibus.</p>
            <p>Lorem ipsum dolor sit amet, illum definitiones no quo, maluisset concludaturque et eum, altera fabulas ut
                quo. Atqui causae gloriatur ius te, id agam omnis evertitur eum. Affert laboramus repudiandae nec et.
                Inciderint efficiantur his ad. Eum no molestiae voluptatibus.</p>
        </div>
    </div>
</body>

<script>
    var numberOfDataSeries = 2
    var apexChartOptions = {
        series: [{
            name: 'series1',
            data: []
        }],
        chart: {
            height: 350,
            type: 'area',
            toolbar: {
                show: false,
            },
        },
        // colors: ['#5350e9'],
        // stroke: {
        //     width: 2,
        // },
        // grid: {
        //     show: false,
        // },
        dataLabels: {
            enabled: false
        },
        // xaxis: {
        //     type: 'category',
        //     axisBorder: {
        //         show: false
        //     },
        //     axisTicks: {
        //         show: false
        //     },
        //     labels: {
        //         show: false,
        //     }
        // },
        // show: false,
        // yaxis: {
        //     labels: {
        //         show: false,
        //     },
        // },
        // tooltip: {
        //     x: {
        //         show: false
        //     },
        // },
    }
    var chart1 = new ApexCharts(document.querySelector("#chartGPSLat"), apexChartOptions);
    // chart1.render();

    window.onload = getData

    function getData() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                var prevDate = ''
                var lines = this.responseText.split("\n");
                lines && lines.forEach((line, lineNumber) => {
                    var rowValues = line.split(",")
                    if (rowValues.length == (numberOfDataSeries + 2)) { // skip incomplete lines
                        if (lineNumber > 0) { // ignore header row
                            rowValues = rowValues.map(val => val.replace('\r', '')) // clean up \r from any values

                            var dateStr = (rowValues[0] != prevDate) ? rowValues[0] : ''
                            prevDate = rowValues[0]
                            apexChartOptions.series[0].data.push({
                                x: `${rowValues[0]} ${rowValues[1]}`,
                                y: rowValues[2]
                            })

                            //charts.GPSLong.xAxisLabels.push(`${dateStr} ${rowValues[1]}`)
                            //charts.GPSLong.values.push(rowValues[3])
                        }
                    }
                })
                chart1.render()
            }
        };
        xhttp.open("GET", "Water Quality Data.csv", true);
        xhttp.send();
    }

</script>

</html>